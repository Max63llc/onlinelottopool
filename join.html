<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Join a Pool – Online Lotto Pool</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-slate-950 text-white">
  <!-- Header -->
  <header class="border-b border-slate-800 bg-slate-950/90 sticky top-0">
    <div class="max-w-4xl mx-auto px-4 py-4 flex items-center justify-between">
      <a href="/" class="text-xl font-bold">
        Online <span class="text-emerald-400">Lotto Pool</span>
      </a>
      <a href="/" class="text-sm text-slate-300 hover:text-white">
        ⬅ Back to Pools
      </a>
    </div>
  </header>

  <main class="max-w-4xl mx-auto px-4 py-10">
    <!-- Disclaimer / Pool Info -->
    <section class="bg-slate-900 border border-slate-800 rounded-2xl p-6 mb-8">
      <h1 class="text-2xl font-bold mb-2">Join Pool</h1>
      <p class="text-sm text-slate-300 mb-4">
        Make sure you pay the pool organizer <span class="font-semibold">before the cutoff time</span>.
        Tickets will be purchased at the cutoff. If you have not paid by then, you may be excluded
        from this pool.
      </p>
      <ul class="text-sm text-slate-300 space-y-1">
        <li><span class="font-semibold">Pool Name:</span> <span id="pool-name-display">Loading…</span></li>
        <li><span class="font-semibold">Lottery Game:</span> Powerball (example)</li>
        <li><span class="font-semibold">Price to Join:</span> $10 per share (example)</li>
        <li><span class="font-semibold">Cutoff Time:</span> 8:30 PM ET (example)</li>
      </ul>
    </section>

    <!-- Join Form (Netlify Form) -->
    <section class="bg-slate-900 border border-slate-800 rounded-2xl p-6">
      <h2 class="text-xl font-semibold mb-4">Enter Your Details</h2>

      <!-- IMPORTANT: Netlify Form attributes -->
      <form name="join-pool" method="POST" data-netlify="true" class="space-y-4">
        <!-- Required hidden field for Netlify -->
        <input type="hidden" name="form-name" value="join-pool" />

        <!-- Pool Name (filled from URL) -->
        <input type="hidden" id="pool-name-input" name="pool-name" value="" />

        <div>
          <label class="block text-sm mb-1" for="full-name">Full Name</label>
          <input
            id="full-name"
            name="full-name"
            type="text"
            required
            class="w-full rounded-lg bg-slate-950 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"
            placeholder="Your name"
          />
        </div>

        <div>
          <label class="block text-sm mb-1" for="email">Email Address</label>
          <input
            id="email"
            name="email"
            type="email"
            required
            class="w-full rounded-lg bg-slate-950 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"
            placeholder="you@example.com"
          />
        </div>

        <div>
          <label class="block text-sm mb-1" for="phone">Phone Number (optional)</label>
          <input
            id="phone"
            name="phone"
            type="tel"
            class="w-full rounded-lg bg-slate-950 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"
            placeholder="For text alerts (optional)"
          />
        </div>

        <div>
          <label class="block text-sm mb-1" for="notes">Notes to Organizer (optional)</label>
          <textarea
            id="notes"
            name="notes"
            rows="3"
            class="w-full rounded-lg bg-slate-950 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"
            placeholder="E.g., ‘Paid in cash 11/20’ or questions."
          ></textarea>
        </div>

        <!-- Optional: checkbox for SMS consent -->
        <div class="flex items-start space-x-2">
          <input
            id="sms-consent"
            name="sms-consent"
            type="checkbox"
            class="mt-1"
          />
          <label for="sms-consent" class="text-xs text-slate-300">
            I agree to receive text alerts about this pool (deadlines & ticket photos). Message and data
            rates may apply.
          </label>
        </div>

        <button
          type="submit"
          class="w-full bg-emerald-500 hover:bg-emerald-600 text-black font-semibold py-3 rounded-xl text-sm"
        >
          Submit & Join Pool
        </button>
      </form>
    </section>
  </main>

  <!-- Tiny script to read ?pool= from URL and show it -->
  <script>
    const params = new URLSearchParams(window.location.search);
    const poolFromUrl = params.get("pool") || "Unnamed Pool";
    document.getElementById("pool-name-display").innerText = poolFromUrl;
    document.getElementById("pool-name-input").value = poolFromUrl;
  </script>
</body>
</html>
